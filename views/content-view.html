            <div class="mb-4">
                <button class="text-white bg-blue-700 hover:bg-blue-800 focus:ring-4 focus:ring-blue-300 font-medium rounded-lg text-sm px-5 py-2.5" @click="editingContent = { title: '', url: '', type: 'YouTube', tags: [] }; isContentModalOpen = true;">
                    New Content
                </button>
            </div>

            <div x-show="isContentLoading" class="text-center py-8 text-gray-500">Loading Content Library...</div>

            <div x-show="!isContentLoading">
                <!-- All Available Tags -->
                <div x-show="allContentTags.length > 0" class="mb-6 p-4 bg-gray-50 rounded-lg">
                    <div class="font-medium mb-2 text-gray-700">Filter by tag:</div>
                    <div class="flex flex-wrap gap-2">
                        <template x-for="tag in allContentTags" :key="tag.id">
                            <span
                                :class="contentTagFilters.some(t => t.id === tag.id) ? 'bg-gray-300 text-gray-600 cursor-default' : 'bg-blue-100 text-blue-800 hover:bg-blue-200 cursor-pointer'"
                                class="text-xs font-medium px-2.5 py-0.5 rounded"
                                @click="
                                    if (!contentTagFilters.some(t => t.id === tag.id)) {
                                        contentTagFilters.push(tag);
                                    }
                                "
                                :title="contentTagFilters.some(t => t.id === tag.id) ? 'Already filtering by this tag' : 'Click to filter by this tag'"
                            >
                                <span x-text="tag.name + ' (' + tag.count + ')'"></span>
                            </span>
                        </template>
                    </div>
                </div>

                <!-- Active Tag Filters -->
                <div x-show="contentTagFilters.length > 0" class="mb-4">
                    <div class="flex items-center gap-2 flex-wrap">
                        <span class="font-medium text-gray-700">Filtering by:</span>
                        <template x-for="filterTag in contentTagFilters" :key="filterTag.id">
                            <span class="inline-flex items-center bg-blue-100 text-blue-800 text-xs font-medium px-2.5 py-0.5 rounded">
                                <span x-text="filterTag.name"></span>
                                <button type="button" class="ml-1 text-blue-600 hover:text-blue-800 font-bold" @click="contentTagFilters = contentTagFilters.filter(t => t.id !== filterTag.id)">Ã—</button>
                            </span>
                        </template>
                    </div>
                </div>

                <!-- Search Bar -->
                <div class="mb-4">
                    <div class="flex gap-2 items-center">
                        <input
                            type="text"
                            x-model="contentSearchTerm"
                            placeholder="Search content by title, URL, or tag..."
                            class="flex-1 bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block p-2.5"
                        >
                        <button
                            x-show="contentSearchTerm.trim() || contentTagFilters.length > 0"
                            @click="contentSearchTerm = ''; contentTagFilters = []"
                            class="text-gray-900 bg-white border border-gray-300 focus:outline-none hover:bg-gray-100 focus:ring-4 focus:ring-gray-100 font-medium rounded-lg text-sm px-5 py-2.5 whitespace-nowrap"
                        >Clear All Filters</button>
                    </div>
                    <div x-show="contentSearchTerm.trim() || contentTagFilters.length > 0" class="mt-2 text-sm text-gray-600">
                        Showing <strong x-text="sortedContent.length"></strong> of <strong x-text="content.length"></strong> items
                    </div>
                </div>
            </div>

            <div x-show="!isContentLoading" class="relative overflow-x-auto">
                <table class="w-full text-sm text-left text-gray-500">
                    <thead class="text-xs text-gray-700 uppercase bg-gray-50">
                        <tr>
                            <th @click="sortContentBy('title')" class="px-6 py-3 sortable">Title</th>
                            <th class="px-6 py-3">Tags</th>
                            <th class="px-6 py-3" style="width: 120px;">URL</th>
                            <th @click="sortContentBy('type')" class="px-6 py-3 sortable" style="width: 100px;">Type</th>
                            <th class="px-6 py-3" style="width: 40px;"></th>
                        </tr>
                    </thead>
                    <tbody>
                        <template x-for="item in sortedContent" :key="item.id">
                            <tr class="bg-white border-b hover:bg-gray-50">
                                <td class="px-6 py-4" x-text="item.title"></td>
                                <td class="px-6 py-4">
                                    <template x-if="item.tags && item.tags.length > 0">
                                        <div class="flex flex-wrap gap-2">
                                            <template x-for="tag in item.tags" :key="tag.id">
                                                <span
                                                    class="bg-blue-100 text-blue-800 text-xs font-medium px-2.5 py-0.5 rounded hover:bg-blue-200 cursor-pointer"
                                                    x-text="tag.name"
                                                    @click="
                                                        if (!contentTagFilters.some(t => t.id === tag.id)) {
                                                            contentTagFilters.push(tag);
                                                        }
                                                    "
                                                    title="Click to filter by this tag"
                                                ></span>
                                            </template>
                                        </div>
                                    </template>
                                    <template x-if="!item.tags || item.tags.length === 0">
                                        <span class="text-gray-400">-</span>
                                    </template>
                                </td>
                                <td class="px-6 py-4">
                                    <div class="flex items-center gap-1">
                                        <template x-if="item.type === 'YouTube'">
                                            <button class="link-button flex-1 min-w-0 overflow-hidden text-ellipsis whitespace-nowrap" @click="
                                                const videoId = dataLayer.getYoutubeVideoId(item.url);
                                                if (videoId) {
                                                    youTubeVideoId = videoId;
                                                    isYouTubeModalOpen = true;
                                                }
                                            " :title="item.url">
                                                <span x-text="(() => { try { return new URL(item.url).hostname.replace('www.', ''); } catch { return item.url; } })()"></span>
                                            </button>
                                        </template>
                                        <template x-if="item.type !== 'YouTube'">
                                            <a :href="item.url" target="_blank" class="flex-1 min-w-0 overflow-hidden text-ellipsis whitespace-nowrap" :title="item.url" x-text="(() => { try { return new URL(item.url).hostname.replace('www.', ''); } catch { return item.url; } })()"></a>
                                        </template>
                                        <button class="edit-btn p-1" @click="navigator.clipboard.writeText(item.url)" title="Copy URL to clipboard">
                                            <i data-feather="copy" style="width: 14px; height: 14px;"></i>
                                        </button>
                                    </div>
                                </td>
                                <td class="px-6 py-4" x-text="item.type"></td>
                                <td class="px-6 py-4">
                                    <button class="edit-btn" @click="editingContent = { ...item }; isContentModalOpen = true;">
                                        <i data-feather="edit-2"></i>
                                    </button>
                                </td>
                            </tr>
                        </template>
                    </tbody>
                </table>
            </div>
