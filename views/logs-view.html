<div class="mb-6">
    <div class="flex items-center justify-between mb-4">
        <div class="flex items-center gap-4">
            <button @click="prevDay()" class="text-gray-600 hover:text-gray-900 font-medium px-4 py-2">&lt;</button>
            <h2 class="text-xl font-semibold text-gray-900" x-text="logViewTitle"></h2>
            <button @click="nextDay()" class="text-gray-600 hover:text-gray-900 font-medium px-4 py-2">&gt;</button>
        </div>
        <div class="flex items-center gap-2">
            <input type="date" x-model="searchStartDate" class="bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 p-2">
            <span class="text-gray-500">to</span>
            <input type="date" x-model="searchEndDate" class="bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 p-2">
            <button @click="searchDateRange()" class="text-white bg-blue-700 hover:bg-blue-800 focus:ring-4 focus:ring-blue-300 font-medium rounded-lg text-sm px-5 py-2.5">Search</button>
        </div>
    </div>
</div>

<div>
    <div x-show="isLogsLoading" class="text-center py-8 text-gray-500">Loading logs...</div>

    <div x-show="!isLogsLoading">
        <template x-if="Object.keys(groupedLogs).length === 0">
            <div class="text-center py-12 text-gray-500 text-lg">No practice logged for this period.</div>
        </template>

        <template x-for="(goals, topicTitle) in groupedLogs" :key="topicTitle">
            <div class="mb-6">
                <h2 class="text-2xl font-bold text-gray-900 mb-4" x-text="topicTitle"></h2>
                <template x-for="(logEntries, goalDescription) in goals" :key="goalDescription">
                    <div class="bg-white border border-gray-200 rounded-lg shadow-sm p-4 mb-4">
                        <h4 class="text-lg font-semibold text-gray-900 mb-3" x-text="goalDescription"></h4>
                        <ul class="space-y-2">
                            <template x-for="log in logEntries" :key="log.id">
                                <li class="text-sm text-gray-700 pl-4 border-l-2 border-gray-200" x-html="dataLayer.linkify(log.entry)"></li>
                            </template>
                        </ul>
                    </div>
                </template>
            </div>
        </template>
    </div>
</div>
